import sys, pathlib, time

sys.path.append(str(pathlib.Path(__file__).resolve().parents[1]))

#from m1n1.agx import AGX

from m1n1.fw.agx.initdata import *
from m1n1.fw.agx.channels import ChannelInfo

from m1n1.utils import *
from m1n1.constructutils import SparseMemStream, Ver

Ver.set_version("12.1")


# initdata_dump_12_1:
mem = SparseMemStream()
mem.recurse = True
mem.add_region(0xffffffa0000b0000, chexundump32("""00000000  000b8000 ffffffa0 00000000 00000000 0c338000 ffffffa0 00020000 ffffffa0
00000020  000c0000 ffffffa0 030e4000 240e0e08 40000008 00000001 00000000 ffffc000
00000040  000003ff 00000000 00000070 190e0e08 40000800 00000001 00000000 ffffc000
00000060  000003ff fe000000 0000000f 0e0e0e08 40000800 00000001 00000000 ffffc000
00000080  000003ff 01ffc000 00000000 00000000 00000000 00000000 00000000 00000000
000000a0  00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000
000000c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
"""))

mem.add_region(0xffffffa00c338000, chexundump32("""00000000  000a5800 ffffffa0 0c34f7c0 ffffffa0 000a5900 ffffffa0 0c35b7c0 ffffffa0
00000020  000a5a00 ffffffa0 0c3677c0 ffffffa0 000a57c0 ffffffa0 0c34c7c0 ffffffa0
00000040  000a58c0 ffffffa0 0c3587c0 ffffffa0 000a59c0 ffffffa0 0c3647c0 ffffffa0
00000060  000a5780 ffffffa0 0c3497c0 ffffffa0 000a5880 ffffffa0 0c3557c0 ffffffa0
00000080  000a5980 ffffffa0 0c3617c0 ffffffa0 000a5740 ffffffa0 0c3467c0 ffffffa0
000000a0  000a5840 ffffffa0 0c3527c0 ffffffa0 000a5940 ffffffa0 0c35e7c0 ffffffa0
000000c0  000a5700 ffffffa0 0c3437c0 ffffffa0 00031d00 ffffffa0 00031f00 ffffffa0
000000e0  00031d40 ffffffa0 00035700 ffffffa0 00031e80 ffffffa0 0009b700 ffffffa0
00000100  00031ec0 ffffffa0 000a2700 ffffffa0 00000000 00000000 00000000 00000000
00000120  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000140  *
00000160  00000000 00000000 00000000 00000000 0c33ebc0 ffffffa0 0c33ec80 ffffffa0
00000180  0c33ee40 ffffffa0 0c33ef80 ffffffa0 0c342b00 ffffffa0 0c343700 ffffffa0
000001a0  0c342b80 ffffffa0 0c342b80 ffffffa0 0004a700 ffffffa0 0c380000 ffffffa0
000001c0  0c381000 ffffffa0 0c381300 ffffffa0 00000000 00000000 00000000 00000000
000001e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000200  00000000 00000000 00000000 00000000 00000000 000d0000 ffffffa0 000d0000
00000220  ffffffa0 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000240  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000260  *
00006b20  00000000 00000000 00000000 00000000 00000000 00000000 000000ff 00000000
00006b40  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00006b60  *
00006d80  00000000 00000000 ffffffff 00000000 00000000 00000000 00000000 00000000
00006da0  ffffffff 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00006dc0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00006de0  *
00006f80  00000000 0002ee00 00000000 00000004 3f800000 00000000 00000000 00000000
00006fa0  00000000 00000000 00000001 00000001 00000000 00000000 00000000 00000064
00006fc0  00000001 00000258 00000000 00000064 00000000 00000000 00000000 00000000
00006fe0  00000000 00000000 00000000 00000000 00000000 3f828f5c 3f828f5c 3f828f5c
00007000  3f828f5c 3f828f5c 3f828f5c 3f828f5c 00000000 00000000 00000000 00000000
00007020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007040  *
000075c0  00000000 00000000 00000000 00000271 00000000 00000000 3f7f2e9f 00000000
000075e0  3b516154 00000000 3ca59586 00000000 00000000 479f0380 40a90fdb 00000000
00007600  bbf17d19 fffffdd0 00000000 00000258 00000000 00000000 00013e07 00000000
00007620  00000000 00000000 00000000 00000000 00000000 00000000 00000258 00000000
00007640  00000000 00000000 00000000 00000000 00000000 00000030 00000000 00000000
00007660  3f6aaaab 00000000 3daaaaab 00000000 3e75c290 00000000 00000000 47800000
00007680  3fc00000 00000000 00000000 00000028 00000258 00000000 00000000 00000000
000076a0  00013e07 00000000 00000064 00000000 00000000 00000000 00000000 00000000
000076c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000055
000076e0  00000000 0000005a 00000032 00000006 00000000 00000006 00000001 00000000
00007700  3f4ccccd 3f7ae148 3e4ccccd 3ca3d70a 40c9999a 3e4a2121 00000000 42be0000
00007720  417c0000 40db53d0 40a86bca 00000064 00000258 00000064 00000000 00000000
00007740  00000055 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007760  00000064 00000000 00000000 00000000 00000000 00000000 00000000 47800000
00007780  42200000 44160000 00000510 00000000 00000000 00000000 00000028 00000000
000077a0  00000000 42c80000 00000258 00000000 3f4ccccd 3e4ccccd 00000000 00000000
000077c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
000077e0  00000000 00000000 00000000 00000000 80808080 00000000 00001f40 00000384
00007800  00000004 00000000 00000000 00000000 00000000 3f800000 00000000 40800000
00007820  00000000 00000000 47800000 42900000 00000000 00000000 00000028 00000258
00007840  00000258 00000000 00000000 00002af8 00000000 00000000 00000000 00000000
00007860  00000000 00000000 00000000 00000258 00000000 00000000 00000000 00000000
00007880  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
000078a0  *
00007900  00000000 00000000 00000000 00000000 00000000 00000258 00000000 00000000
00007920  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007940  *
000079a0  00000000 00000000 00000000 00000001 00000000 00013e07 00013e07 00013e07
000079c0  00000000 00000000 3f7df3b6 3c03126f 000001f4 000003e8 00000000 00000000
000079e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007a00  *
00007a60  00000000 00000000 00000000 00000000 00000000 00000000 000001f4 00000000
00007a80  00000000 3f7df3b6 00000000 3c03126f 00000000 3c9d4952 00000000 00000000
00007aa0  47800000 3fc00000 00000000 00000000 00000028 00000258 00000258 00000000
00007ac0  479f0380 00013e07 00000000 000003e8 00000000 00000000 00000000 00000000
00007ae0  00000000 00000258 00000000 00000000 00000000 00000000 00000000 00000000
00007b00  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007b20  *
00007b80  00000000 00000000 00000000 00000000 00000000 00000000 00000000 80808080
00007ba0  00000000 0000007d 00000001 00000000 00000000 00000000 00000000 00000000
00007bc0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00007be0  *
000081a0  00000000 00000000 00000000 90909090 00000000 0000000f 00000000 00000001
000081c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
000081e0  *
0000a1c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d6873
0000a1e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d1aa0
0000a200  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d374c
0000a220  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411cc8b4
0000a240  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000a260  *
0000a2c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d6873
0000a2e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d1aa0
0000a300  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411d374c
0000a320  00000000 00000000 00000000 00000000 00000000 00000000 00000000 411cc8b4
0000a340  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000a360  *
0000a3c0  00000000 00000000 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff
0000a3e0  0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff
0000a400  0000ffff 0000ffff 00000000 00000000 00000000 00000000 00000000 00000000
0000a420  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000a440  *
0000a460  00000000 00000000 0000ffff 00000000 ffffffff ffffffff ffffffff ffffffff
0000a480  000002aa 00000aaa ffffffff ffffffff 00000000 00000000 ffffffff ffffffff
0000a4a0  ffffffff ffffffff 00000000 00000000 00000000 00000000 00000000 00000000
0000a4c0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000a4e0  *
0000a960  00000000 00000000 00000000 00000000 00000000 00000000 0cc00001 00000000
0000a980  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000a9a0  *
0000aa20  9782e623 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000aa40  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000aa60  00000000 00000000 00000001 00000000 00000000 44a44000 44a64000 44a44000
0000aa80  44a10000 00000000 00000000 00000000 00000000 41a80000 41a80000 41b00000
0000aaa0  41a80000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000aac0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000aae0  *
0000ab80  00000000 00000013 00000000 00000014 00000000 00000001 ffc00000 00000000
0000aba0  00000000 00000011 00000000 00000011 ffff8000 0000006f 11800000 ffffffa0
0000abc0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000abe0  fff82000 d32d2cdb f5002000 21dae926 38b62000 c7420008 ffff2000 cd9d3264
0000ac00  fa022000 14f9f105 3b612000 c49e0001 00002000 d0d02f30 fabc2000 178cedb8
0000ac20  3c342000 c3cdffff fff72568 c8193343 f36e2568 2203e5e2 40cf2568 ba7b0009
0000ac40  ffff2568 c1bd3997 f9272568 134beee1 43dd2568 b7750001 00002568 c56535ee
0000ac60  f9fc2568 163ceb1b 44ce2568 b686ffff 000024cb c98a2cfa f4f624cb 1877e917
0000ac80  38d924cb bdab0000 00000000 00000000 00000000 00000000 00000000 00000000
0000aca0  4b232645 00000e98 d5a2ea5f 40003fff ca5e4000 4000f5a2 5b8c1b37 0000093d
0000acc0  ceabf154 40004000 c5dc4000 4000fa23 56c921a0 00000797 d1deee22 40004000
0000ace0  c5254000 4000fada 404720bd 08000c7c daeded13 40003800 d1123800 4000f6ee
0000ad00  4e511748 080007e7 d4d6f32a 40003800 cd213800 4000fadf 4a3e1cc4 0800067e
0000ad20  d7a2f05d 40003800 cc813800 4000fb7f 00008000 00000000 80000000 00000000
0000ad40  00000000 00008000 00000000 00000000 04d00000 00000004 10000000 ffffffa0
0000ad60  0001c000 0001c000 00000001 00000000 0e100000 00000002 10020000 ffffffa0
0000ad80  00004000 00004000 00000000 00000000 8e104000 00000002 10028000 ffffffa0
0000ada0  00004000 00004000 00000001 00000000 04000000 00000004 10030000 ffffffa0
0000adc0  00020000 00020000 00000001 00000000 00000000 00000000 00000000 00000000
0000ade0  00000000 00000000 00000001 00000000 00000000 00000000 00000000 00000000
0000ae00  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000ae20  00000000 00000000 00000001 00000000 8e494000 00000002 10058000 ffffffa0
0000ae40  00004000 00004000 00000000 00000000 00000000 00000000 00000000 00000000
0000ae60  00000000 00000000 00000001 00000000 04d80000 00000004 10060000 ffffffa0
0000ae80  00008000 00008000 00000001 00000000 04d61000 00000002 10071000 ffffffa0
0000aea0  00001000 00001000 00000001 00000000 00000000 00000002 10078000 ffffffa0
0000aec0  006c0000 000d8000 00000001 00000000 00000000 00000000 00000000 00000000
0000aee0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000af00  00000000 00000000 00000001 00000000 643c4000 00000002 10740000 ffffffa0
0000af20  00001000 00001000 00000001 00000000 00000000 00000000 00000000 00000000
0000af40  00000000 00000000 00000001 00000000 00000000 00000000 00000000 00000000
0000af60  *
0000af80  00000000 00000000 00000001 00000000 8e3d0000 00000002 10748000 ffffffa0
0000afa0  00001000 00001000 00000001 00000000 8e3c0000 00000002 10750000 ffffffa0
0000afc0  00002000 00002000 00000000 00000000 00006001 00000001 00000001 00000000
0000afe0  00000001 00000001 00000001 00000000 00000000 00000000 00000000 00000001
0000b000  00000000 00000001 00000000 00000001 00005dc0 00000008 00000000 00000001
0000b020  00000001 00000001 00000000 00000000 00000000 00000000 00000000 00000000
0000b040  0000001f 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b060  00000004 00000000 00000000 00000000 00000001 00000001 00000000 00000000
0000b080  00000000 00000031 00000000 00000000 00000000 00000000 00000000 00000000
0000b0a0  00000000 00000001 00000000 00000000 00000000 00000001 00000000 00000020
0000b0c0  00000000 00000000 00000000 00000000 00000000 00000001 ffff8000 0000010f
0000b0e0  0000000d 00000005 00000020 00000006 00000007 00000000 00000184 000001e6
0000b100  00000288 00000309 000003cc 00000510 00000000 00000000 00000000 00000000
0000b120  00000000 00000000 00000000 00000000 00000000 00000190 00000190 00000190
0000b140  00000190 00000190 00000190 00000190 00000190 00000274 00000274 00000280
0000b160  00000274 00000274 00000274 00000274 00000274 0000028a 00000290 00000296
0000b180  0000028d 0000028a 0000028a 0000028a 0000028a 000002a6 000002af 000002af
0000b1a0  000002b2 000002a6 000002a6 000002a6 000002a6 000002d1 000002d8 000002d5
0000b1c0  000002d8 000002d1 000002d1 000002d1 000002d1 0000030a 0000030a 0000030d
0000b1e0  00000310 0000030a 0000030a 0000030a 0000030a 0000037d 00000371 0000037a
0000b200  0000037d 0000037d 0000037d 0000037d 0000037d 00000000 00000000 00000000
0000b220  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b240  *
0000b320  00000000 00000000 00000000 00000000 00000000 00000316 00000316 00000316
0000b340  00000316 00000316 00000316 00000316 00000316 00000316 00000316 00000316
0000b360  *
0000b3e0  00000316 00000316 00000316 00000316 00000316 0000037d 00000371 0000037a
0000b400  0000037d 0000037d 0000037d 0000037d 0000037d 00000000 00000000 00000000
0000b420  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b440  *
0000b520  00000000 00000000 00000000 00000000 00000000 3f828f5c 3f828f5c 3f828f5c
0000b540  3f828f5c 3f828f5c 3f828f5c 3f828f5c 00000000 00000000 00000000 00000000
0000b560  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b580  *
0000b5a0  00000000 00000000 00000000 00000000 00000000 00000000 0000000f 00000014
0000b5c0  0000001b 00000024 00000034 00000064 00000000 00000000 00000000 00000000
0000b5e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000000a
0000b600  0000001c 0000002a 00000040 00000064 00000000 00000000 00000000 00000000
0000b620  00000000 00000000 00000000 00000000 00000000 00000316 00002084 00000080
0000b640  00001020 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b660  00000000 00000000 0000000f 0000003f 0000003f 00000000 00000000 00000000
0000b680  00000000 00000000 00000000 00000000 00000001 00000000 00000000 00000000
0000b6a0  00000000 00000001 00000001 00000001 00000000 00000000 ffffffff ffffffff
0000b6c0  ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff
0000b6e0  ffffffff ffffffff 00000000 00000000 00000000 00000000 00000000 00000000
0000b700  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b720  *
0000b7c0  00000019 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b7e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
0000b800  *
"""))

mem.add_region(0xffffffa000020000, chexundump32("""00000000  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000020  00000000 00000000 00000001 00000001 00000000 00000078 00000000 00000000
00000040  00000000 00000000 00000000 00000000 00000000 0028ffff 0000ffff 00010000
00000060  00000000 00010000 00000000 00000000 00000000 00000000 00000000 00000000
00000080  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
000000a0  *
00008900  00000001 00000000 00013e07 00000258 00000258 00000000 00000000 00000258
00008920  00000000 00000000 0000007d 3c9d4952 3fc00000 00000028 0000007d 00000000
00008940  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00008960  *
00008980  00000000 00000000 00000000 00000000 00000000 00000000 00002af8 00001f40
000089a0  00000384 00000000 42900000 40800000 00000000 00000000 00000000 00000001
000089c0  00013e07 3fc00000 3e75c290 00000000 00000000 0000ffff 0000ffff 0000ffff
000089e0  0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 0000ffff
00008a00  0000ffff 0000ffff 0000ffff 0000ffff 0000ffff 00000000 00000000 00000000
00008a20  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00008a40  *
00008a60  00000000 00000000 00000000 00000000 00000000 0000ffff 00000000 ffffffff
00008a80  ffffffff ffffffff ffffffff 000002aa 00000aaa ffffffff ffffffff 00000000
00008aa0  00000000 ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000000
00008ac0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00008ae0  *
00008f80  00000000 0cc00001 00000000 00000000 00000000 00000000 00000000 00000000
00008fa0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00008fc0  *
00008fe0  00000000 00000000 00000001 00000000 00000000 00000000 00000000 00000000
00009000  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00009020  *
00010e40  00000000 00000000 00000000 00000000 00000000 00000000 0000000b 00000001
00010e60  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00010e80  *
00010fe0  00000000 00000000 00000000 00000000 00000000 00000000 00000028 0000000a
00011000  000000fa 00000000 00000002 00000028 00000005 00000000 00000000 00000000
00011020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00011040  *
000118a0  00000000 00000000 00000000 00000000 00000000 00000000 00000028 00000000
000118c0  00000001 01020100 014b5a01 5a020101 0101014b 014b5a01 00000001 00000000
000118e0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00011900  *
00085720  00000001 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00085740  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00085760  *
"""))

mem.add_region(0xffffffa0000c0000, chexundump32("""00000000  000c0080 ffffffa0 000c00c0 ffffffa0 00000000 00000000 00000000 00000000
00000020  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000040  *
"""))

mem.seek(0xffffffa0000b0000)
initdata = InitData.parse_stream(mem)

print(initdata)